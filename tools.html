<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tools & Calculators | TeleConnectHub</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f9f9f9; }
        header { background: #0056b3; color: white; padding: 1rem 20px; }
        .container { max-width: 1000px; margin: 2rem auto; padding: 0 20px; }
        .back-btn { display: inline-block; margin-bottom: 20px; text-decoration: none; color: #0056b3; font-weight: bold; }
        
        /* Tool Grid */
        .tool-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 30px; }
        .tool-card { background: white; padding: 25px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); transition: transform 0.3s; border-top: 4px solid #0056b3; display: flex; flex-direction: column; }
        .tool-card:hover { transform: translateY(-5px); }
        .tool-header { display: flex; align-items: center; gap: 15px; margin-bottom: 15px; }
        .tool-icon { font-size: 1.8rem; background: #eef6fc; width: 50px; height: 50px; display: flex; justify-content: center; align-items: center; border-radius: 50%; color: #0056b3; flex-shrink: 0; }
        .tool-card h3 { margin: 0; font-size: 1.1rem; color: #333; }
        
        /* Inputs */
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; margin-bottom: 5px; font-weight: 500; font-size: 0.9rem; color: #666; }
        .input-group input, .input-group select { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box; font-family: inherit; }
        
        button { padding: 10px 15px; background: #ff9f1c; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; width: 100%; margin-top: auto; }
        button:hover { background: #e68a00; }
        .result { margin-top: 15px; padding: 10px; background: #f0f8ff; border-radius: 4px; font-weight: bold; color: #0056b3; text-align: center; border: 1px solid #cce5ff; min-height: 45px; display: flex; align-items: center; justify-content: center; }
        
        /* Search & Filter */
        .search-container { margin-bottom: 20px; display: flex; gap: 10px; flex-wrap: wrap; }
        .search-input { flex: 1; padding: 12px; border: 1px solid #ccc; border-radius: 4px; font-size: 1rem; }
        .filter-btn { padding: 10px 20px; background: #e0e0e0; border: none; border-radius: 4px; cursor: pointer; font-weight: 500; transition: all 0.3s; width: auto; margin-top: 0; }
        .filter-btn:hover, .filter-btn.active { background: #0056b3; color: white; }

        /* Request Section */
        .request-section { background: #eef6fc; padding: 40px; border-radius: 8px; text-align: center; margin-top: 50px; }

        /* Footer */
        footer { background-color: #222; color: #aaa; padding: 3rem 20px; text-align: center; margin-top: 4rem; }

        /* Modal */
        .modal { display: none; position: fixed; z-index: 3000; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: #fefefe; margin: 10% auto; padding: 2rem; border: 1px solid #888; width: 90%; max-width: 500px; border-radius: 8px; position: relative; }
        .close-modal { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close-modal:hover { color: black; }
        .modal-form label { display: block; margin-bottom: 5px; font-weight: bold; }
        .modal-form input, .modal-form textarea { width: 100%; padding: 10px; margin-bottom: 15px; border: 1px solid #ccc; border-radius: 4px; }

        /* Dark Mode */
        body.dark-mode { background-color: #121212; color: #e0e0e0; }
        body.dark-mode header { background-color: #1a1a1a; }
        body.dark-mode .tool-card { background-color: #2d2d2d; color: #e0e0e0; box-shadow: 0 2px 5px rgba(255,255,255,0.05); border-top-color: #66b3ff; }
        body.dark-mode .tool-card h3 { color: #f4f4f4; }
        body.dark-mode .tool-icon { background: #333; color: #66b3ff; }
        body.dark-mode .back-btn, body.dark-mode .result { color: #66b3ff; }
        body.dark-mode .result { background-color: #1a1a1a; border-color: #444; }
        body.dark-mode input, body.dark-mode select, body.dark-mode textarea { background-color: #333; color: white; border-color: #555; }
        body.dark-mode .input-group label { color: #ccc; }
        body.dark-mode .search-input { background: #333; color: white; border-color: #555; }
        body.dark-mode .filter-btn { background: #333; color: #ccc; }
        body.dark-mode .filter-btn.active { background: #0056b3; color: white; }
        body.dark-mode .request-section { background: #1e1e1e; }
        body.dark-mode .modal-content { background-color: #2d2d2d; color: #e0e0e0; border-color: #444; }
        body.dark-mode .close-modal:hover { color: white; }

        /* Loader */
        .page-loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #f9f9f9; z-index: 10000;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 0.5s; opacity: 0; visibility: hidden;
        }
        body.dark-mode .page-loader { background-color: #121212; }
        .page-loader.active { opacity: 1; visibility: visible; }
        .spinner {
            border: 4px solid rgba(0,0,0,0.1); width: 50px; height: 50px; border-radius: 50%;
            border-left-color: #0056b3; animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    <div id="pageLoader" class="page-loader">
        <div class="spinner"></div>
        <div style="margin-top: 15px; font-weight: bold; color: #0056b3;">Loading Tools...</div>
    </div>

    <header style="position: relative;">
        <div class="container" style="margin: 0 auto; display: flex; justify-content: space-between; align-items: center;">
            <h2>TeleConnectHub üßÆ</h2>
            <button id="themeToggle" style="background: transparent; border: 1px solid white; color: white; padding: 5px 10px; cursor: pointer; border-radius: 4px;">üåô Dark Mode</button>
        </div>
    </header>
    <div class="container">
        <a href="mainPage.html" class="back-btn">&larr; Back to Dashboard</a>
        <h1>Telecom Tools</h1>
        
        <div class="search-container">
            <input type="text" id="toolSearch" class="search-input" placeholder="Search tools (e.g., Path Loss, Power, Wavelength)...">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="rf">RF / Wireless</button>
            <button class="filter-btn" data-filter="general">General</button>
        </div>
        
        <div class="tool-grid" id="toolGrid">
            <!-- FSPL Calculator -->
            <div class="tool-card" data-category="rf">
                <div class="tool-header">
                    <div class="tool-icon">üì°</div>
                    <h3>Free Space Path Loss (FSPL)</h3>
                </div>
                <div class="input-group">
                    <label>Distance (km)</label>
                    <input type="number" id="fsplDist" placeholder="e.g., 5">
                </div>
                <div class="input-group">
                    <label>Frequency (MHz)</label>
                    <input type="number" id="fsplFreq" placeholder="e.g., 2400">
                </div>
                <button onclick="calculateFSPL()">Calculate Loss</button>
                <div id="fsplResult" class="result">Result: --</div>
            </div>

            <!-- Shannon Capacity -->
            <div class="tool-card" data-category="general">
                <div class="tool-header">
                    <div class="tool-icon">üìä</div>
                    <h3>Shannon Capacity</h3>
                </div>
                <div class="input-group">
                    <label>Bandwidth (MHz)</label>
                    <input type="number" id="capBw" placeholder="e.g., 20">
                </div>
                <div class="input-group">
                    <label>SNR (dB)</label>
                    <input type="number" id="capSnr" placeholder="e.g., 30">
                </div>
                <button onclick="calculateCapacity()">Calculate Rate</button>
                <div id="capResult" class="result">Result: --</div>
            </div>

            <!-- Fresnel Zone -->
            <div class="tool-card" data-category="rf">
                <div class="tool-header">
                    <div class="tool-icon">‚≠ï</div>
                    <h3>Fresnel Zone (1st)</h3>
                </div>
                <div class="input-group">
                    <label>Distance (km)</label>
                    <input type="number" id="fresDist" placeholder="e.g., 10">
                </div>
                <div class="input-group">
                    <label>Frequency (GHz)</label>
                    <input type="number" id="fresFreq" placeholder="e.g., 5.8">
                </div>
                <button onclick="calculateFresnel()">Calculate Radius</button>
                <div id="fresResult" class="result">Result: --</div>
            </div>

            <!-- Wavelength -->
            <div class="tool-card" data-category="rf">
                <div class="tool-header">
                    <div class="tool-icon">„Ä∞Ô∏è</div>
                    <h3>Wavelength Calculator</h3>
                </div>
                <div class="input-group">
                    <label>Frequency (MHz)</label>
                    <input type="number" id="waveFreq" placeholder="e.g., 900">
                </div>
                <button onclick="calculateWavelength()">Calculate Length</button>
                <div id="waveResult" class="result">Result: --</div>
            </div>

            <!-- Power Converter -->
            <div class="tool-card" data-category="general">
                <div class="tool-header">
                    <div class="tool-icon">‚ö°</div>
                    <h3>dBm ‚Üî Watts Converter</h3>
                </div>
                <div class="input-group">
                    <label>Value</label>
                    <input type="number" id="powerVal" placeholder="e.g., 30">
                </div>
                <div class="input-group">
                    <label>Convert From</label>
                    <select id="powerType">
                        <option value="dbm">dBm to Watts</option>
                        <option value="watts">Watts to dBm</option>
                    </select>
                </div>
                <button onclick="convertPower()">Convert</button>
                <div id="powerResult" class="result">Result: --</div>
            </div>
        </div>

        <div class="request-section">
            <h3 style="color: #0056b3; margin-bottom: 10px;">Need a specific tool?</h3>
            <p style="margin-bottom: 20px;">Request a custom calculator or simulation tool for your studies.</p>
            <button id="requestToolBtn" style="padding: 10px 25px; background: #ff9f1c; color: #333; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; width: auto;">Request Tool</button>
        </div>
    </div>

    <!-- Request Modal -->
    <div id="requestModal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2 style="text-align: center; color: #0056b3; margin-bottom: 1.5rem;">Request a Tool</h2>
            <form id="requestForm" class="modal-form">
                <label>Tool Name/Type</label>
                <input type="text" required placeholder="e.g., Link Budget Calculator">
                <label>Description & Formulas</label>
                <textarea rows="4" required placeholder="Describe how it should work..."></textarea>
                <button type="submit">Submit Request</button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <h3>TeleConnectHub</h3>
            <p>&copy; 2026 TeleConnectHub. All rights reserved.</p>
        </div>
    </footer>

    <script>
        const toggle = document.getElementById('themeToggle');
        const body = document.body;
        if(localStorage.getItem('theme') === 'dark') {
            body.classList.add('dark-mode');
            toggle.innerText = '‚òÄÔ∏è Light Mode';
        }
        toggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            toggle.innerText = isDark ? '‚òÄÔ∏è Light Mode' : 'üåô Dark Mode';
        });

        // Loader Logic
        document.querySelectorAll('a').forEach(link => {
            link.addEventListener('click', function(e) {
                const href = this.getAttribute('href');
                if(href && !href.startsWith('#') && !href.startsWith('javascript')) {
                    e.preventDefault();
                    document.getElementById('pageLoader').classList.add('active');
                    setTimeout(() => window.location.href = href, 800);
                }
            });
        });

        // Search and Filter Logic
        const searchInput = document.getElementById('toolSearch');
        const filterBtns = document.querySelectorAll('.filter-btn');
        const cards = document.querySelectorAll('.tool-card');

        function filterTools() {
            const searchTerm = searchInput.value.toLowerCase();
            const activeCategory = document.querySelector('.filter-btn.active').getAttribute('data-filter');

            cards.forEach(card => {
                const title = card.querySelector('h3').innerText.toLowerCase();
                const category = card.getAttribute('data-category');
                const matchesSearch = title.includes(searchTerm);
                const matchesCategory = activeCategory === 'all' || category === activeCategory;
                card.style.display = (matchesSearch && matchesCategory) ? 'flex' : 'none';
            });
        }

        searchInput.addEventListener('input', filterTools);
        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                document.querySelector('.filter-btn.active').classList.remove('active');
                btn.classList.add('active');
                filterTools();
            });
        });

        // Modal Logic
        const modal = document.getElementById('requestModal');
        const btn = document.getElementById('requestToolBtn');
        const close = document.querySelector('.close-modal');
        const form = document.getElementById('requestForm');

        btn.onclick = () => modal.style.display = "block";
        close.onclick = () => modal.style.display = "none";
        window.onclick = (e) => { if(e.target == modal) modal.style.display = "none"; };
        form.onsubmit = (e) => {
            e.preventDefault();
            alert('Tool request submitted!');
            modal.style.display = "none";
            form.reset();
        };

        // Calculators
        function calculateFSPL() {
            const d = parseFloat(document.getElementById('fsplDist').value);
            const f = parseFloat(document.getElementById('fsplFreq').value);
            if(d && f) {
                const fspl = 20 * Math.log10(d) + 20 * Math.log10(f) + 32.44;
                document.getElementById('fsplResult').innerText = `Path Loss: ${fspl.toFixed(2)} dB`;
            }
        }

        function calculateCapacity() {
            const bw = parseFloat(document.getElementById('capBw').value) * 1e6; // MHz to Hz
            const snrDb = parseFloat(document.getElementById('capSnr').value);
            if(bw && !isNaN(snrDb)) {
                const snrLinear = Math.pow(10, snrDb / 10);
                const capacity = bw * Math.log2(1 + snrLinear);
                const mbps = (capacity / 1e6).toFixed(2);
                document.getElementById('capResult').innerText = `Capacity: ${mbps} Mbps`;
            }
        }

        function calculateFresnel() {
            const d = parseFloat(document.getElementById('fresDist').value);
            const f = parseFloat(document.getElementById('fresFreq').value);
            if(d && f) {
                // F1 = 8.656 * sqrt(D / f) -> D in km, f in GHz, result in meters
                const r = 8.656 * Math.sqrt(d / f);
                document.getElementById('fresResult').innerText = `Radius (1st Zone): ${r.toFixed(2)} meters`;
            }
        }

        function calculateWavelength() {
            const f = parseFloat(document.getElementById('waveFreq').value);
            if(f) {
                const lambda = 300 / f; // 300 / f(MHz) = meters
                document.getElementById('waveResult').innerText = `Wavelength: ${lambda.toFixed(3)} meters`;
            }
        }

        function convertPower() {
            const val = parseFloat(document.getElementById('powerVal').value);
            const type = document.getElementById('powerType').value;
            if(!isNaN(val)) {
                if(type === 'dbm') {
                    const watts = Math.pow(10, (val - 30) / 10);
                    document.getElementById('powerResult').innerText = `Result: ${watts.toExponential(3)} Watts`;
                } else {
                    if(val <= 0) { alert("Watts must be > 0"); return; }
                    const dbm = 10 * Math.log10(val) + 30;
                    document.getElementById('powerResult').innerText = `Result: ${dbm.toFixed(2)} dBm`;
                }
            }
        }
    </script>
</body>
</html>